<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FreeRTOS_STEM_doc: src/bsp.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">FreeRTOS_STEM_doc<span id="projectnumber">&#160;version 0.0</span>
   </div>
   <div id="projectbrief">Created by HCMUTE students, mentor Huynh Hoang Ha</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">bsp.cpp File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="bsp_8h_source.html">bsp.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for bsp.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="bsp_8cpp__incl.png" border="0" usemap="#asrc_2bsp_8cpp" alt=""/></div>
<map name="asrc_2bsp_8cpp" id="asrc_2bsp_8cpp">
<area shape="rect" title=" " alt="" coords="272,5,362,32"/>
<area shape="rect" href="bsp_8h.html" title=" " alt="" coords="290,80,344,107"/>
<area shape="poly" title=" " alt="" coords="320,33,320,64,314,64,314,33"/>
<area shape="rect" title=" " alt="" coords="5,155,82,181"/>
<area shape="poly" title=" " alt="" coords="290,104,97,155,96,150,289,99"/>
<area shape="rect" title=" " alt="" coords="106,155,208,181"/>
<area shape="poly" title=" " alt="" coords="291,109,199,150,197,146,289,104"/>
<area shape="rect" title=" " alt="" coords="232,155,292,181"/>
<area shape="poly" title=" " alt="" coords="309,109,283,144,279,140,305,106"/>
<area shape="rect" title=" " alt="" coords="315,155,428,181"/>
<area shape="poly" title=" " alt="" coords="328,106,355,140,351,144,324,109"/>
<area shape="rect" title=" " alt="" coords="451,155,510,181"/>
<area shape="poly" title=" " alt="" coords="345,104,439,146,437,150,343,109"/>
<area shape="rect" title=" " alt="" coords="535,155,672,181"/>
<area shape="poly" title=" " alt="" coords="344,99,540,148,538,153,343,104"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae5b88d967e3185d98053cf055c8b4f1f" id="r_ae5b88d967e3185d98053cf055c8b4f1f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae5b88d967e3185d98053cf055c8b4f1f">setup_wifi</a> ()</td></tr>
<tr class="memdesc:ae5b88d967e3185d98053cf055c8b4f1f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Thiết lập kết nối WiFi cho ESP32.  <br /></td></tr>
<tr class="separator:ae5b88d967e3185d98053cf055c8b4f1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ed12a183e9f32f3272e84420633eced" id="r_a6ed12a183e9f32f3272e84420633eced"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6ed12a183e9f32f3272e84420633eced">setup_pwm_pin</a> ()</td></tr>
<tr class="memdesc:a6ed12a183e9f32f3272e84420633eced"><td class="mdescLeft">&#160;</td><td class="mdescRight">Thiết lập các chân PWM cho động cơ.  <br /></td></tr>
<tr class="separator:a6ed12a183e9f32f3272e84420633eced"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaad95fbeb90643c1c856fadf533c689a" id="r_aaad95fbeb90643c1c856fadf533c689a"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaad95fbeb90643c1c856fadf533c689a">setup_i2c_pin</a> (Adafruit_VL53L0X &amp;sensor_left, Adafruit_VL53L0X &amp;sensor_front)</td></tr>
<tr class="memdesc:aaad95fbeb90643c1c856fadf533c689a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Thiết lập các chân I2C cho hai cảm biến VL53L0X.  <br /></td></tr>
<tr class="separator:aaad95fbeb90643c1c856fadf533c689a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace7721aa996fb57fcc1848a5cd0ada4b" id="r_ace7721aa996fb57fcc1848a5cd0ada4b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ace7721aa996fb57fcc1848a5cd0ada4b">setup_encoder_pin</a> ()</td></tr>
<tr class="memdesc:ace7721aa996fb57fcc1848a5cd0ada4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Thiết lập các chân encoder và ngắt cho bộ mã hóa (encoder).  <br /></td></tr>
<tr class="separator:ace7721aa996fb57fcc1848a5cd0ada4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e2b3681757a6e4e53fc0b4d25754a2e" id="r_a2e2b3681757a6e4e53fc0b4d25754a2e"><td class="memItemLeft" align="right" valign="top">void IRAM_ATTR&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2e2b3681757a6e4e53fc0b4d25754a2e">handleEncoderLeft</a> ()</td></tr>
<tr class="memdesc:a2e2b3681757a6e4e53fc0b4d25754a2e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Xử lý ngắt cho encoder bên trái.  <br /></td></tr>
<tr class="separator:a2e2b3681757a6e4e53fc0b4d25754a2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e1f7aa401f8d152a61ca560398044b0" id="r_a4e1f7aa401f8d152a61ca560398044b0"><td class="memItemLeft" align="right" valign="top">void IRAM_ATTR&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4e1f7aa401f8d152a61ca560398044b0">handleEncoderRight</a> ()</td></tr>
<tr class="memdesc:a4e1f7aa401f8d152a61ca560398044b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Xử lý ngắt cho encoder bên phải.  <br /></td></tr>
<tr class="separator:a4e1f7aa401f8d152a61ca560398044b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76a15253ad56619fe851a6e314d9ee5a" id="r_a76a15253ad56619fe851a6e314d9ee5a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a76a15253ad56619fe851a6e314d9ee5a">reset_encoder_value</a> ()</td></tr>
<tr class="memdesc:a76a15253ad56619fe851a6e314d9ee5a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Đặt lại giá trị của bộ đếm encoder.  <br /></td></tr>
<tr class="separator:a76a15253ad56619fe851a6e314d9ee5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae705d5ee120f8a3ee7dc59000a739ef9" id="r_ae705d5ee120f8a3ee7dc59000a739ef9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae705d5ee120f8a3ee7dc59000a739ef9">up</a> (uint32_t encoder_steps, uint32_t timeout_ms)</td></tr>
<tr class="memdesc:ae705d5ee120f8a3ee7dc59000a739ef9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Điều khiển động cơ để di chuyển lên một khoảng bước encoder nhất định.  <br /></td></tr>
<tr class="separator:ae705d5ee120f8a3ee7dc59000a739ef9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90339bd9b73ea558ab199fd8ebe3e8b1" id="r_a90339bd9b73ea558ab199fd8ebe3e8b1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a90339bd9b73ea558ab199fd8ebe3e8b1">down</a> (uint32_t encoder_steps, uint32_t timeout_ms)</td></tr>
<tr class="memdesc:a90339bd9b73ea558ab199fd8ebe3e8b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Điều khiển động cơ để di chuyển xuống với số bước encoder nhất định.  <br /></td></tr>
<tr class="separator:a90339bd9b73ea558ab199fd8ebe3e8b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a262738a076360ac36416563c9221091d" id="r_a262738a076360ac36416563c9221091d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a262738a076360ac36416563c9221091d">left</a> (uint32_t encoder_steps, uint32_t timeout_ms)</td></tr>
<tr class="memdesc:a262738a076360ac36416563c9221091d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Điều khiển động cơ để xoay sang trái với số bước encoder nhất định.  <br /></td></tr>
<tr class="separator:a262738a076360ac36416563c9221091d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2991f6eaed7763cc48fa26ba1d6e8708" id="r_a2991f6eaed7763cc48fa26ba1d6e8708"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2991f6eaed7763cc48fa26ba1d6e8708">right</a> (uint32_t encoder_steps, uint32_t timeout_ms)</td></tr>
<tr class="memdesc:a2991f6eaed7763cc48fa26ba1d6e8708"><td class="mdescLeft">&#160;</td><td class="mdescRight">Điều khiển động cơ để xoay sang phải với số bước encoder nhất định.  <br /></td></tr>
<tr class="separator:a2991f6eaed7763cc48fa26ba1d6e8708"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe2a977e003c131ad4a2804059fd9005" id="r_afe2a977e003c131ad4a2804059fd9005"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afe2a977e003c131ad4a2804059fd9005">setup_mqtt</a> (PubSubClient &amp;<a class="el" href="main_8cpp.html#a068a04f89f8c4b3979bcd88bf143f5cf">client</a>)</td></tr>
<tr class="memdesc:afe2a977e003c131ad4a2804059fd9005"><td class="mdescLeft">&#160;</td><td class="mdescRight">Thiết lập MQTT với server và callback được xác định trước.  <br /></td></tr>
<tr class="separator:afe2a977e003c131ad4a2804059fd9005"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b4b1553d0ac2f8cd65642dc21bf5729" id="r_a3b4b1553d0ac2f8cd65642dc21bf5729"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3b4b1553d0ac2f8cd65642dc21bf5729">connect_to_broker</a> (PubSubClient &amp;<a class="el" href="main_8cpp.html#a068a04f89f8c4b3979bcd88bf143f5cf">client</a>)</td></tr>
<tr class="memdesc:a3b4b1553d0ac2f8cd65642dc21bf5729"><td class="mdescLeft">&#160;</td><td class="mdescRight">Kết nối đến broker MQTT.  <br /></td></tr>
<tr class="separator:a3b4b1553d0ac2f8cd65642dc21bf5729"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a892df614fcae50013ec63c023f2480b3" id="r_a892df614fcae50013ec63c023f2480b3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a892df614fcae50013ec63c023f2480b3">post_data_to_broker</a> (PubSubClient &amp;<a class="el" href="main_8cpp.html#a068a04f89f8c4b3979bcd88bf143f5cf">client</a>, const char *topic, int32_t payload, const char *sensor)</td></tr>
<tr class="memdesc:a892df614fcae50013ec63c023f2480b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gửi dữ liệu cảm biến đến broker MQTT.  <br /></td></tr>
<tr class="separator:a892df614fcae50013ec63c023f2480b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92d580a0d95b6919b9a87264d7df3279" id="r_a92d580a0d95b6919b9a87264d7df3279"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a92d580a0d95b6919b9a87264d7df3279">callback</a> (char *topic, byte *payload, uint32_t length)</td></tr>
<tr class="memdesc:a92d580a0d95b6919b9a87264d7df3279"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback được gọi khi nhận được một thông điệp từ topic MQTT.  <br /></td></tr>
<tr class="separator:a92d580a0d95b6919b9a87264d7df3279"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98fa184fd5bf99d444c1d0748773215a" id="r_a98fa184fd5bf99d444c1d0748773215a"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a98fa184fd5bf99d444c1d0748773215a">measure_distance</a> (Adafruit_VL53L0X &amp;sensor, VL53L0X_RangingMeasurementData_t &amp;measurement)</td></tr>
<tr class="memdesc:a98fa184fd5bf99d444c1d0748773215a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Đo khoảng cách bằng cảm biến VL53L0X.  <br /></td></tr>
<tr class="separator:a98fa184fd5bf99d444c1d0748773215a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29c2aa13f2bbaccceeb33ed39a6ece11" id="r_a29c2aa13f2bbaccceeb33ed39a6ece11"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a29c2aa13f2bbaccceeb33ed39a6ece11">setup_OTA</a> ()</td></tr>
<tr class="memdesc:a29c2aa13f2bbaccceeb33ed39a6ece11"><td class="mdescLeft">&#160;</td><td class="mdescRight">Thiết lập Over-The-Air (OTA) cập nhật cho vi điều khiển.  <br /></td></tr>
<tr class="separator:a29c2aa13f2bbaccceeb33ed39a6ece11"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a92d580a0d95b6919b9a87264d7df3279" name="a92d580a0d95b6919b9a87264d7df3279"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92d580a0d95b6919b9a87264d7df3279">&#9670;&#160;</a></span>callback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void callback </td>
          <td>(</td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>topic</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte *</td>          <td class="paramname"><span class="paramname"><em>payload</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>length</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback được gọi khi nhận được một thông điệp từ topic MQTT. </p>
<p>Hàm này xử lý dữ liệu nhận được từ broker MQTT. Nó chuyển đổi payload thành chuỗi ký tự và thực hiện các hành động dựa trên ký tự đầu tiên của thông điệp (lên, xuống, trái, phải). Nó cũng reset giá trị encoder sau khi nhận được thông điệp.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">topic</td><td>Tên của topic đã nhận được thông điệp. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">payload</td><td>Dữ liệu nhận được từ broker, dưới dạng mảng byte. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">length</td><td>Chiều dài của payload.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Hàm không có giá trị trả về, nhưng sẽ thực thi các hành động và in thông tin gỡ lỗi ra Serial nếu <code>DEBUG_MODE</code> bật. </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bsp_8cpp_a92d580a0d95b6919b9a87264d7df3279_cgraph.png" border="0" usemap="#absp_8cpp_a92d580a0d95b6919b9a87264d7df3279_cgraph" alt=""/></div>
<map name="absp_8cpp_a92d580a0d95b6919b9a87264d7df3279_cgraph" id="absp_8cpp_a92d580a0d95b6919b9a87264d7df3279_cgraph">
<area shape="rect" title="Callback được gọi khi nhận được một thông điệp từ topic MQTT." alt="" coords="5,107,75,133"/>
<area shape="rect" href="bsp_8cpp.html#a90339bd9b73ea558ab199fd8ebe3e8b1" title="Điều khiển động cơ để di chuyển xuống với số bước encoder nhất định." alt="" coords="123,5,175,32"/>
<area shape="poly" title=" " alt="" coords="54,104,121,41,124,44,57,108"/>
<area shape="rect" href="bsp_8cpp.html#a76a15253ad56619fe851a6e314d9ee5a" title="Đặt lại giá trị của bộ đếm encoder." alt="" coords="223,107,364,133"/>
<area shape="poly" title=" " alt="" coords="75,104,122,92,180,91,234,100,233,105,179,96,123,97,76,110"/>
<area shape="rect" href="bsp_8cpp.html#a262738a076360ac36416563c9221091d" title="Điều khiển động cơ để xoay sang trái với số bước encoder nhất định." alt="" coords="129,107,168,133"/>
<area shape="poly" title=" " alt="" coords="75,117,114,117,114,123,75,123"/>
<area shape="rect" href="bsp_8cpp.html#a2991f6eaed7763cc48fa26ba1d6e8708" title="Điều khiển động cơ để xoay sang phải với số bước encoder nhất định." alt="" coords="126,157,172,184"/>
<area shape="poly" title=" " alt="" coords="71,131,113,151,110,156,69,136"/>
<area shape="rect" href="bsp_8cpp.html#ae705d5ee120f8a3ee7dc59000a739ef9" title="Điều khiển động cơ để di chuyển lên một khoảng bước encoder nhất định." alt="" coords="130,208,168,235"/>
<area shape="poly" title=" " alt="" coords="57,132,124,196,121,199,54,136"/>
<area shape="poly" title=" " alt="" coords="171,30,262,95,259,100,168,35"/>
<area shape="poly" title=" " alt="" coords="169,117,208,117,208,123,169,123"/>
<area shape="poly" title=" " alt="" coords="171,160,238,136,240,141,173,165"/>
<area shape="poly" title=" " alt="" coords="167,206,259,140,262,145,170,211"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bsp_8cpp_a92d580a0d95b6919b9a87264d7df3279_icgraph.png" border="0" usemap="#absp_8cpp_a92d580a0d95b6919b9a87264d7df3279_icgraph" alt=""/></div>
<map name="absp_8cpp_a92d580a0d95b6919b9a87264d7df3279_icgraph" id="absp_8cpp_a92d580a0d95b6919b9a87264d7df3279_icgraph">
<area shape="rect" title="Callback được gọi khi nhận được một thông điệp từ topic MQTT." alt="" coords="241,5,310,32"/>
<area shape="rect" href="bsp_8cpp.html#afe2a977e003c131ad4a2804059fd9005" title="Thiết lập MQTT với server và callback được xác định trước." alt="" coords="107,5,193,32"/>
<area shape="poly" title=" " alt="" coords="226,21,194,21,194,16,226,16"/>
<area shape="rect" href="main_8cpp.html#a4fc01d736fe50cf5b977f755b675f11d" title=" " alt="" coords="5,5,59,32"/>
<area shape="poly" title=" " alt="" coords="91,21,59,21,59,16,91,16"/>
</map>
</div>

</div>
</div>
<a id="a3b4b1553d0ac2f8cd65642dc21bf5729" name="a3b4b1553d0ac2f8cd65642dc21bf5729"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b4b1553d0ac2f8cd65642dc21bf5729">&#9670;&#160;</a></span>connect_to_broker()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void connect_to_broker </td>
          <td>(</td>
          <td class="paramtype">PubSubClient &amp;</td>          <td class="paramname"><span class="paramname"><em>client</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Kết nối đến broker MQTT. </p>
<p>Hàm này cố gắng kết nối đến broker MQTT đã được thiết lập. Nếu kết nối không thành công, nó sẽ thử lại sau mỗi 2 giây. Khi kết nối thành công, hàm sẽ đăng ký (subscribe) vào một topic cụ thể.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>Đối tượng PubSubClient để kết nối đến broker MQTT.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bsp_8cpp_a3b4b1553d0ac2f8cd65642dc21bf5729_cgraph.png" border="0" usemap="#absp_8cpp_a3b4b1553d0ac2f8cd65642dc21bf5729_cgraph" alt=""/></div>
<map name="absp_8cpp_a3b4b1553d0ac2f8cd65642dc21bf5729_cgraph" id="absp_8cpp_a3b4b1553d0ac2f8cd65642dc21bf5729_cgraph">
<area shape="rect" title="Kết nối đến broker MQTT." alt="" coords="5,5,134,32"/>
<area shape="rect" href="main_8cpp.html#a068a04f89f8c4b3979bcd88bf143f5cf" title=" " alt="" coords="182,5,234,32"/>
<area shape="poly" title=" " alt="" coords="134,16,166,16,166,21,134,21"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bsp_8cpp_a3b4b1553d0ac2f8cd65642dc21bf5729_icgraph.png" border="0" usemap="#absp_8cpp_a3b4b1553d0ac2f8cd65642dc21bf5729_icgraph" alt=""/></div>
<map name="absp_8cpp_a3b4b1553d0ac2f8cd65642dc21bf5729_icgraph" id="absp_8cpp_a3b4b1553d0ac2f8cd65642dc21bf5729_icgraph">
<area shape="rect" title="Kết nối đến broker MQTT." alt="" coords="428,23,557,50"/>
<area shape="rect" href="main_8cpp.html#ae204b8353ddcb7c12c66695341624958" title="Task to handle MQTT communication." alt="" coords="112,23,188,50"/>
<area shape="poly" title=" " alt="" coords="426,22,380,14,311,8,241,14,188,26,187,21,241,9,311,3,381,9,427,17"/>
<area shape="rect" href="bsp_8cpp.html#a892df614fcae50013ec63c023f2480b3" title="Gửi dữ liệu cảm biến đến broker MQTT." alt="" coords="241,23,380,50"/>
<area shape="poly" title=" " alt="" coords="413,39,381,39,381,34,413,34"/>
<area shape="rect" href="bsp_8cpp.html#afe2a977e003c131ad4a2804059fd9005" title="Thiết lập MQTT với server và callback được xác định trước." alt="" coords="107,74,193,101"/>
<area shape="poly" title=" " alt="" coords="422,57,381,65,280,78,194,87,193,81,280,73,380,59,421,51"/>
<area shape="rect" href="main_8cpp.html#a4fc01d736fe50cf5b977f755b675f11d" title=" " alt="" coords="5,49,59,75"/>
<area shape="poly" title=" " alt="" coords="98,51,60,59,59,54,97,45"/>
<area shape="poly" title=" " alt="" coords="225,39,188,39,188,34,225,34"/>
<area shape="poly" title=" " alt="" coords="91,77,59,70,60,65,92,72"/>
</map>
</div>

</div>
</div>
<a id="a90339bd9b73ea558ab199fd8ebe3e8b1" name="a90339bd9b73ea558ab199fd8ebe3e8b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90339bd9b73ea558ab199fd8ebe3e8b1">&#9670;&#160;</a></span>down()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void down </td>
          <td>(</td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>encoder_steps</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>timeout_ms</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Điều khiển động cơ để di chuyển xuống với số bước encoder nhất định. </p>
<p>Hàm này điều khiển động cơ để di chuyển xuống bằng cách điều chỉnh PWM cho các chân điều khiển động cơ. Động cơ sẽ di chuyển cho đến khi đạt số bước encoder hoặc hết thời gian giới hạn.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">encoder_steps</td><td>Số bước encoder cần đạt được trước khi dừng động cơ. </td></tr>
    <tr><td class="paramname">timeout_ms</td><td>Thời gian giới hạn để hoàn thành việc di chuyển (tính bằng mili giây).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Sau khi đạt số bước encoder hoặc hết thời gian, hàm sẽ tắt động cơ và đặt lại giá trị encoder.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bsp_8cpp_a90339bd9b73ea558ab199fd8ebe3e8b1_cgraph.png" border="0" usemap="#absp_8cpp_a90339bd9b73ea558ab199fd8ebe3e8b1_cgraph" alt=""/></div>
<map name="absp_8cpp_a90339bd9b73ea558ab199fd8ebe3e8b1_cgraph" id="absp_8cpp_a90339bd9b73ea558ab199fd8ebe3e8b1_cgraph">
<area shape="rect" title="Điều khiển động cơ để di chuyển xuống với số bước encoder nhất định." alt="" coords="5,5,58,32"/>
<area shape="rect" href="bsp_8cpp.html#a76a15253ad56619fe851a6e314d9ee5a" title="Đặt lại giá trị của bộ đếm encoder." alt="" coords="106,5,247,32"/>
<area shape="poly" title=" " alt="" coords="58,16,90,16,90,21,58,21"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bsp_8cpp_a90339bd9b73ea558ab199fd8ebe3e8b1_icgraph.png" border="0" usemap="#absp_8cpp_a90339bd9b73ea558ab199fd8ebe3e8b1_icgraph" alt=""/></div>
<map name="absp_8cpp_a90339bd9b73ea558ab199fd8ebe3e8b1_icgraph" id="absp_8cpp_a90339bd9b73ea558ab199fd8ebe3e8b1_icgraph">
<area shape="rect" title="Điều khiển động cơ để di chuyển xuống với số bước encoder nhất định." alt="" coords="358,5,411,32"/>
<area shape="rect" href="bsp_8cpp.html#a92d580a0d95b6919b9a87264d7df3279" title="Callback được gọi khi nhận được một thông điệp từ topic MQTT." alt="" coords="241,5,310,32"/>
<area shape="poly" title=" " alt="" coords="343,21,311,21,311,16,343,16"/>
<area shape="rect" href="bsp_8cpp.html#afe2a977e003c131ad4a2804059fd9005" title="Thiết lập MQTT với server và callback được xác định trước." alt="" coords="107,5,193,32"/>
<area shape="poly" title=" " alt="" coords="226,21,194,21,194,16,226,16"/>
<area shape="rect" href="main_8cpp.html#a4fc01d736fe50cf5b977f755b675f11d" title=" " alt="" coords="5,5,59,32"/>
<area shape="poly" title=" " alt="" coords="91,21,59,21,59,16,91,16"/>
</map>
</div>

</div>
</div>
<a id="a2e2b3681757a6e4e53fc0b4d25754a2e" name="a2e2b3681757a6e4e53fc0b4d25754a2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e2b3681757a6e4e53fc0b4d25754a2e">&#9670;&#160;</a></span>handleEncoderLeft()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IRAM_ATTR handleEncoderLeft </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Xử lý ngắt cho encoder bên trái. </p>
<p>Hàm này được gọi khi có sự thay đổi trạng thái trên chân encoder trái. Nó tăng giá trị của biến <code>encoderLeftValue</code> mỗi khi chân này thay đổi. Hàm này được gắn với ngắt bằng cách sử dụng <code>attachInterrupt</code>.</p>
<dl class="section note"><dt>Note</dt><dd>Hàm được gán với ngắt thông qua <code>attachInterrupt()</code> và chạy trong bộ nhớ IRAM do sử dụng <code>IRAM_ATTR</code>.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bsp_8cpp_a2e2b3681757a6e4e53fc0b4d25754a2e_icgraph.png" border="0" usemap="#absp_8cpp_a2e2b3681757a6e4e53fc0b4d25754a2e_icgraph" alt=""/></div>
<map name="absp_8cpp_a2e2b3681757a6e4e53fc0b4d25754a2e_icgraph" id="absp_8cpp_a2e2b3681757a6e4e53fc0b4d25754a2e_icgraph">
<area shape="rect" title="Xử lý ngắt cho encoder bên trái." alt="" coords="285,5,414,32"/>
<area shape="rect" href="bsp_8cpp.html#ace7721aa996fb57fcc1848a5cd0ada4b" title="Thiết lập các chân encoder và ngắt cho bộ mã hóa (encoder)." alt="" coords="107,5,237,32"/>
<area shape="poly" title=" " alt="" coords="269,21,237,21,237,16,269,16"/>
<area shape="rect" href="main_8cpp.html#a4fc01d736fe50cf5b977f755b675f11d" title=" " alt="" coords="5,5,59,32"/>
<area shape="poly" title=" " alt="" coords="91,21,59,21,59,16,91,16"/>
</map>
</div>

</div>
</div>
<a id="a4e1f7aa401f8d152a61ca560398044b0" name="a4e1f7aa401f8d152a61ca560398044b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e1f7aa401f8d152a61ca560398044b0">&#9670;&#160;</a></span>handleEncoderRight()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IRAM_ATTR handleEncoderRight </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Xử lý ngắt cho encoder bên phải. </p>
<p>Hàm này được gọi khi có sự thay đổi trạng thái trên chân encoder phải. Nó tăng giá trị của biến <code>encoderRightValue</code> mỗi khi chân này thay đổi. Hàm này được gắn với ngắt bằng cách sử dụng <code>attachInterrupt</code>.</p>
<dl class="section note"><dt>Note</dt><dd>Hàm được gán với ngắt thông qua <code>attachInterrupt()</code> và chạy trong bộ nhớ IRAM do sử dụng <code>IRAM_ATTR</code>.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bsp_8cpp_a4e1f7aa401f8d152a61ca560398044b0_icgraph.png" border="0" usemap="#absp_8cpp_a4e1f7aa401f8d152a61ca560398044b0_icgraph" alt=""/></div>
<map name="absp_8cpp_a4e1f7aa401f8d152a61ca560398044b0_icgraph" id="absp_8cpp_a4e1f7aa401f8d152a61ca560398044b0_icgraph">
<area shape="rect" title="Xử lý ngắt cho encoder bên phải." alt="" coords="285,5,423,32"/>
<area shape="rect" href="bsp_8cpp.html#ace7721aa996fb57fcc1848a5cd0ada4b" title="Thiết lập các chân encoder và ngắt cho bộ mã hóa (encoder)." alt="" coords="107,5,237,32"/>
<area shape="poly" title=" " alt="" coords="269,21,237,21,237,16,269,16"/>
<area shape="rect" href="main_8cpp.html#a4fc01d736fe50cf5b977f755b675f11d" title=" " alt="" coords="5,5,59,32"/>
<area shape="poly" title=" " alt="" coords="91,21,59,21,59,16,91,16"/>
</map>
</div>

</div>
</div>
<a id="a262738a076360ac36416563c9221091d" name="a262738a076360ac36416563c9221091d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a262738a076360ac36416563c9221091d">&#9670;&#160;</a></span>left()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void left </td>
          <td>(</td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>encoder_steps</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>timeout_ms</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Điều khiển động cơ để xoay sang trái với số bước encoder nhất định. </p>
<p>Hàm này điều khiển động cơ bên phải để di chuyển sang trái. Động cơ sẽ di chuyển cho đến khi đạt số bước encoder hoặc hết thời gian giới hạn.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">encoder_steps</td><td>Số bước encoder cần đạt được trước khi dừng động cơ. </td></tr>
    <tr><td class="paramname">timeout_ms</td><td>Thời gian giới hạn để hoàn thành việc xoay (tính bằng mili giây).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Sau khi đạt số bước encoder hoặc hết thời gian, hàm sẽ tắt động cơ và đặt lại giá trị encoder.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bsp_8cpp_a262738a076360ac36416563c9221091d_cgraph.png" border="0" usemap="#absp_8cpp_a262738a076360ac36416563c9221091d_cgraph" alt=""/></div>
<map name="absp_8cpp_a262738a076360ac36416563c9221091d_cgraph" id="absp_8cpp_a262738a076360ac36416563c9221091d_cgraph">
<area shape="rect" title="Điều khiển động cơ để xoay sang trái với số bước encoder nhất định." alt="" coords="5,5,45,32"/>
<area shape="rect" href="bsp_8cpp.html#a76a15253ad56619fe851a6e314d9ee5a" title="Đặt lại giá trị của bộ đếm encoder." alt="" coords="93,5,234,32"/>
<area shape="poly" title=" " alt="" coords="45,16,77,16,77,21,45,21"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bsp_8cpp_a262738a076360ac36416563c9221091d_icgraph.png" border="0" usemap="#absp_8cpp_a262738a076360ac36416563c9221091d_icgraph" alt=""/></div>
<map name="absp_8cpp_a262738a076360ac36416563c9221091d_icgraph" id="absp_8cpp_a262738a076360ac36416563c9221091d_icgraph">
<area shape="rect" title="Điều khiển động cơ để xoay sang trái với số bước encoder nhất định." alt="" coords="358,5,398,32"/>
<area shape="rect" href="bsp_8cpp.html#a92d580a0d95b6919b9a87264d7df3279" title="Callback được gọi khi nhận được một thông điệp từ topic MQTT." alt="" coords="241,5,310,32"/>
<area shape="poly" title=" " alt="" coords="343,21,311,21,311,16,343,16"/>
<area shape="rect" href="bsp_8cpp.html#afe2a977e003c131ad4a2804059fd9005" title="Thiết lập MQTT với server và callback được xác định trước." alt="" coords="107,5,193,32"/>
<area shape="poly" title=" " alt="" coords="226,21,194,21,194,16,226,16"/>
<area shape="rect" href="main_8cpp.html#a4fc01d736fe50cf5b977f755b675f11d" title=" " alt="" coords="5,5,59,32"/>
<area shape="poly" title=" " alt="" coords="91,21,59,21,59,16,91,16"/>
</map>
</div>

</div>
</div>
<a id="a98fa184fd5bf99d444c1d0748773215a" name="a98fa184fd5bf99d444c1d0748773215a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98fa184fd5bf99d444c1d0748773215a">&#9670;&#160;</a></span>measure_distance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t measure_distance </td>
          <td>(</td>
          <td class="paramtype">Adafruit_VL53L0X &amp;</td>          <td class="paramname"><span class="paramname"><em>sensor</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VL53L0X_RangingMeasurementData_t &amp;</td>          <td class="paramname"><span class="paramname"><em>measurement</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Đo khoảng cách bằng cảm biến VL53L0X. </p>
<p>Hàm này thực hiện đo khoảng cách bằng cảm biến VL53L0X và trả về giá trị khoảng cách. Nếu kết quả đo nằm ngoài phạm vi của cảm biến, hàm sẽ trả về giá trị 2000 (hoặc mã lỗi tùy chọn).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sensor</td><td>Tham chiếu đến đối tượng cảm biến VL53L0X dùng để đo khoảng cách. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">measurement</td><td>Cấu trúc chứa dữ liệu đo của cảm biến, bao gồm giá trị khoảng cách và trạng thái.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Giá trị khoảng cách đo được bằng mm (millimeter). Nếu khoảng cách ngoài phạm vi, trả về 2000 mm. </dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bsp_8cpp_a98fa184fd5bf99d444c1d0748773215a_icgraph.png" border="0" usemap="#absp_8cpp_a98fa184fd5bf99d444c1d0748773215a_icgraph" alt=""/></div>
<map name="absp_8cpp_a98fa184fd5bf99d444c1d0748773215a_icgraph" id="absp_8cpp_a98fa184fd5bf99d444c1d0748773215a_icgraph">
<area shape="rect" title="Đo khoảng cách bằng cảm biến VL53L0X." alt="" coords="243,5,370,32"/>
<area shape="rect" href="main_8cpp.html#a217451a0ec75f826e5a2933c3268c7c2" title="Task to handle distance measurements using VL53L0X sensors." alt="" coords="107,5,195,32"/>
<area shape="poly" title=" " alt="" coords="228,21,195,21,195,16,228,16"/>
<area shape="rect" href="main_8cpp.html#a4fc01d736fe50cf5b977f755b675f11d" title=" " alt="" coords="5,5,59,32"/>
<area shape="poly" title=" " alt="" coords="91,21,59,21,59,16,91,16"/>
</map>
</div>

</div>
</div>
<a id="a892df614fcae50013ec63c023f2480b3" name="a892df614fcae50013ec63c023f2480b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a892df614fcae50013ec63c023f2480b3">&#9670;&#160;</a></span>post_data_to_broker()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void post_data_to_broker </td>
          <td>(</td>
          <td class="paramtype">PubSubClient &amp;</td>          <td class="paramname"><span class="paramname"><em>client</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>topic</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t</td>          <td class="paramname"><span class="paramname"><em>payload</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>sensor</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gửi dữ liệu cảm biến đến broker MQTT. </p>
<p>Hàm này kiểm tra kết nối MQTT và gửi dữ liệu của cảm biến đến một topic cụ thể trên broker. Nếu kết nối đến broker không thành công, hàm sẽ cố gắng kết nối lại.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">client</td><td>Tham chiếu đến đối tượng PubSubClient đã kết nối đến broker. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">topic</td><td>Tên của topic trên broker để gửi dữ liệu. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">payload</td><td>Dữ liệu của cảm biến, kiểu int32_t, sẽ được gửi đến broker. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sensor</td><td>Chuỗi mô tả cảm biến (ví dụ: "F" hoặc "L") sẽ được gửi cùng dữ liệu.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Hàm không có giá trị trả về, nhưng sẽ in thông báo lỗi ra Serial nếu quá trình gửi thất bại (nếu <code>DEBUG_MODE</code> bật). </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bsp_8cpp_a892df614fcae50013ec63c023f2480b3_cgraph.png" border="0" usemap="#absp_8cpp_a892df614fcae50013ec63c023f2480b3_cgraph" alt=""/></div>
<map name="absp_8cpp_a892df614fcae50013ec63c023f2480b3_cgraph" id="absp_8cpp_a892df614fcae50013ec63c023f2480b3_cgraph">
<area shape="rect" title="Gửi dữ liệu cảm biến đến broker MQTT." alt="" coords="5,5,145,32"/>
<area shape="rect" href="main_8cpp.html#a068a04f89f8c4b3979bcd88bf143f5cf" title=" " alt="" coords="369,5,421,32"/>
<area shape="poly" title=" " alt="" coords="145,16,353,16,353,21,145,21"/>
<area shape="rect" href="bsp_8cpp.html#a3b4b1553d0ac2f8cd65642dc21bf5729" title="Kết nối đến broker MQTT." alt="" coords="193,31,321,57"/>
<area shape="poly" title=" " alt="" coords="145,26,178,30,177,36,145,31"/>
<area shape="poly" title=" " alt="" coords="321,30,353,24,354,29,322,35"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bsp_8cpp_a892df614fcae50013ec63c023f2480b3_icgraph.png" border="0" usemap="#absp_8cpp_a892df614fcae50013ec63c023f2480b3_icgraph" alt=""/></div>
<map name="absp_8cpp_a892df614fcae50013ec63c023f2480b3_icgraph" id="absp_8cpp_a892df614fcae50013ec63c023f2480b3_icgraph">
<area shape="rect" title="Gửi dữ liệu cảm biến đến broker MQTT." alt="" coords="230,5,369,32"/>
<area shape="rect" href="main_8cpp.html#ae204b8353ddcb7c12c66695341624958" title="Task to handle MQTT communication." alt="" coords="107,5,182,32"/>
<area shape="poly" title=" " alt="" coords="214,21,182,21,182,16,214,16"/>
<area shape="rect" href="main_8cpp.html#a4fc01d736fe50cf5b977f755b675f11d" title=" " alt="" coords="5,5,59,32"/>
<area shape="poly" title=" " alt="" coords="91,21,59,21,59,16,91,16"/>
</map>
</div>

</div>
</div>
<a id="a76a15253ad56619fe851a6e314d9ee5a" name="a76a15253ad56619fe851a6e314d9ee5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76a15253ad56619fe851a6e314d9ee5a">&#9670;&#160;</a></span>reset_encoder_value()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void reset_encoder_value </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Đặt lại giá trị của bộ đếm encoder. </p>
<p>Hàm này đặt lại cả hai biến <code>encoderLeftValue</code> và <code>encoderRightValue</code> về 0, làm mới giá trị của bộ đếm encoder cho cả hai bánh xe trái và phải.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bsp_8cpp_a76a15253ad56619fe851a6e314d9ee5a_icgraph.png" border="0" usemap="#absp_8cpp_a76a15253ad56619fe851a6e314d9ee5a_icgraph" alt=""/></div>
<map name="absp_8cpp_a76a15253ad56619fe851a6e314d9ee5a_icgraph" id="absp_8cpp_a76a15253ad56619fe851a6e314d9ee5a_icgraph">
<area shape="rect" title="Đặt lại giá trị của bộ đếm encoder." alt="" coords="459,74,600,101"/>
<area shape="rect" href="bsp_8cpp.html#a92d580a0d95b6919b9a87264d7df3279" title="Callback được gọi khi nhận được một thông điệp từ topic MQTT." alt="" coords="241,74,310,101"/>
<area shape="poly" title=" " alt="" coords="500,66,460,37,410,14,384,8,359,14,337,26,318,42,289,75,285,72,314,38,334,21,357,9,384,3,412,9,462,32,504,62"/>
<area shape="rect" href="bsp_8cpp.html#a90339bd9b73ea558ab199fd8ebe3e8b1" title="Điều khiển động cơ để di chuyển xuống với số bước encoder nhất định." alt="" coords="358,23,411,50"/>
<area shape="poly" title=" " alt="" coords="474,71,410,48,412,43,476,66"/>
<area shape="rect" href="bsp_8cpp.html#a262738a076360ac36416563c9221091d" title="Điều khiển động cơ để xoay sang trái với số bước encoder nhất định." alt="" coords="365,74,404,101"/>
<area shape="poly" title=" " alt="" coords="443,90,405,90,405,85,443,85"/>
<area shape="rect" href="bsp_8cpp.html#a2991f6eaed7763cc48fa26ba1d6e8708" title="Điều khiển động cơ để xoay sang phải với số bước encoder nhất định." alt="" coords="361,125,408,151"/>
<area shape="poly" title=" " alt="" coords="476,109,409,132,407,127,474,104"/>
<area shape="rect" href="bsp_8cpp.html#ae705d5ee120f8a3ee7dc59000a739ef9" title="Điều khiển động cơ để di chuyển lên một khoảng bước encoder nhất định." alt="" coords="365,175,404,202"/>
<area shape="poly" title=" " alt="" coords="498,112,406,178,403,173,495,108"/>
<area shape="rect" href="bsp_8cpp.html#afe2a977e003c131ad4a2804059fd9005" title="Thiết lập MQTT với server và callback được xác định trước." alt="" coords="107,74,193,101"/>
<area shape="poly" title=" " alt="" coords="226,90,194,90,194,85,226,85"/>
<area shape="rect" href="main_8cpp.html#a4fc01d736fe50cf5b977f755b675f11d" title=" " alt="" coords="5,74,59,101"/>
<area shape="poly" title=" " alt="" coords="91,90,59,90,59,85,91,85"/>
<area shape="poly" title=" " alt="" coords="346,57,307,76,305,71,343,53"/>
<area shape="poly" title=" " alt="" coords="349,90,311,90,311,85,349,85"/>
<area shape="poly" title=" " alt="" coords="346,123,305,104,307,99,349,118"/>
<area shape="poly" title=" " alt="" coords="356,167,290,103,293,99,360,163"/>
</map>
</div>

</div>
</div>
<a id="a2991f6eaed7763cc48fa26ba1d6e8708" name="a2991f6eaed7763cc48fa26ba1d6e8708"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2991f6eaed7763cc48fa26ba1d6e8708">&#9670;&#160;</a></span>right()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void right </td>
          <td>(</td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>encoder_steps</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>timeout_ms</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Điều khiển động cơ để xoay sang phải với số bước encoder nhất định. </p>
<p>Hàm này điều khiển động cơ bên trái để di chuyển sang phải. Động cơ sẽ di chuyển cho đến khi đạt số bước encoder hoặc hết thời gian giới hạn.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">encoder_steps</td><td>Số bước encoder cần đạt được trước khi dừng động cơ. </td></tr>
    <tr><td class="paramname">timeout_ms</td><td>Thời gian giới hạn để hoàn thành việc xoay (tính bằng mili giây).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Sau khi đạt số bước encoder hoặc hết thời gian, hàm sẽ tắt động cơ và đặt lại giá trị encoder.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bsp_8cpp_a2991f6eaed7763cc48fa26ba1d6e8708_cgraph.png" border="0" usemap="#absp_8cpp_a2991f6eaed7763cc48fa26ba1d6e8708_cgraph" alt=""/></div>
<map name="absp_8cpp_a2991f6eaed7763cc48fa26ba1d6e8708_cgraph" id="absp_8cpp_a2991f6eaed7763cc48fa26ba1d6e8708_cgraph">
<area shape="rect" title="Điều khiển động cơ để xoay sang phải với số bước encoder nhất định." alt="" coords="5,5,52,32"/>
<area shape="rect" href="bsp_8cpp.html#a76a15253ad56619fe851a6e314d9ee5a" title="Đặt lại giá trị của bộ đếm encoder." alt="" coords="100,5,241,32"/>
<area shape="poly" title=" " alt="" coords="52,16,84,16,84,21,52,21"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bsp_8cpp_a2991f6eaed7763cc48fa26ba1d6e8708_icgraph.png" border="0" usemap="#absp_8cpp_a2991f6eaed7763cc48fa26ba1d6e8708_icgraph" alt=""/></div>
<map name="absp_8cpp_a2991f6eaed7763cc48fa26ba1d6e8708_icgraph" id="absp_8cpp_a2991f6eaed7763cc48fa26ba1d6e8708_icgraph">
<area shape="rect" title="Điều khiển động cơ để xoay sang phải với số bước encoder nhất định." alt="" coords="358,5,405,32"/>
<area shape="rect" href="bsp_8cpp.html#a92d580a0d95b6919b9a87264d7df3279" title="Callback được gọi khi nhận được một thông điệp từ topic MQTT." alt="" coords="241,5,310,32"/>
<area shape="poly" title=" " alt="" coords="343,21,311,21,311,16,343,16"/>
<area shape="rect" href="bsp_8cpp.html#afe2a977e003c131ad4a2804059fd9005" title="Thiết lập MQTT với server và callback được xác định trước." alt="" coords="107,5,193,32"/>
<area shape="poly" title=" " alt="" coords="226,21,194,21,194,16,226,16"/>
<area shape="rect" href="main_8cpp.html#a4fc01d736fe50cf5b977f755b675f11d" title=" " alt="" coords="5,5,59,32"/>
<area shape="poly" title=" " alt="" coords="91,21,59,21,59,16,91,16"/>
</map>
</div>

</div>
</div>
<a id="ace7721aa996fb57fcc1848a5cd0ada4b" name="ace7721aa996fb57fcc1848a5cd0ada4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace7721aa996fb57fcc1848a5cd0ada4b">&#9670;&#160;</a></span>setup_encoder_pin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setup_encoder_pin </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Thiết lập các chân encoder và ngắt cho bộ mã hóa (encoder). </p>
<p>Hàm này cấu hình các chân GPIO để nhận tín hiệu từ bộ mã hóa (encoder) cho bánh xe trái và phải. Nó đặt các chân encoder ở chế độ input (INPUT mode) và gán các ngắt (interrupt) để xử lý khi có thay đổi trạng thái trên các chân này. Mỗi khi chân encoder thay đổi trạng thái, một hàm xử lý ngắt tương ứng sẽ được gọi (handleEncoderLeft và handleEncoderRight).</p>
<dl class="section note"><dt>Note</dt><dd>Hàm xử lý ngắt cho encoder trái là <code>handleEncoderLeft</code> và cho encoder phải là <code>handleEncoderRight</code>.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bsp_8cpp_ace7721aa996fb57fcc1848a5cd0ada4b_cgraph.png" border="0" usemap="#absp_8cpp_ace7721aa996fb57fcc1848a5cd0ada4b_cgraph" alt=""/></div>
<map name="absp_8cpp_ace7721aa996fb57fcc1848a5cd0ada4b_cgraph" id="absp_8cpp_ace7721aa996fb57fcc1848a5cd0ada4b_cgraph">
<area shape="rect" title="Thiết lập các chân encoder và ngắt cho bộ mã hóa (encoder)." alt="" coords="5,31,136,57"/>
<area shape="rect" href="bsp_8cpp.html#a2e2b3681757a6e4e53fc0b4d25754a2e" title="Xử lý ngắt cho encoder bên trái." alt="" coords="188,5,318,32"/>
<area shape="poly" title=" " alt="" coords="136,32,172,27,173,32,137,38"/>
<area shape="rect" href="bsp_8cpp.html#a4e1f7aa401f8d152a61ca560398044b0" title="Xử lý ngắt cho encoder bên phải." alt="" coords="184,56,322,83"/>
<area shape="poly" title=" " alt="" coords="137,50,169,55,168,60,136,56"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bsp_8cpp_ace7721aa996fb57fcc1848a5cd0ada4b_icgraph.png" border="0" usemap="#absp_8cpp_ace7721aa996fb57fcc1848a5cd0ada4b_icgraph" alt=""/></div>
<map name="absp_8cpp_ace7721aa996fb57fcc1848a5cd0ada4b_icgraph" id="absp_8cpp_ace7721aa996fb57fcc1848a5cd0ada4b_icgraph">
<area shape="rect" title="Thiết lập các chân encoder và ngắt cho bộ mã hóa (encoder)." alt="" coords="107,5,237,32"/>
<area shape="rect" href="main_8cpp.html#a4fc01d736fe50cf5b977f755b675f11d" title=" " alt="" coords="5,5,59,32"/>
<area shape="poly" title=" " alt="" coords="91,21,59,21,59,16,91,16"/>
</map>
</div>

</div>
</div>
<a id="aaad95fbeb90643c1c856fadf533c689a" name="aaad95fbeb90643c1c856fadf533c689a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaad95fbeb90643c1c856fadf533c689a">&#9670;&#160;</a></span>setup_i2c_pin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t setup_i2c_pin </td>
          <td>(</td>
          <td class="paramtype">Adafruit_VL53L0X &amp;</td>          <td class="paramname"><span class="paramname"><em>sensor_left</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Adafruit_VL53L0X &amp;</td>          <td class="paramname"><span class="paramname"><em>sensor_front</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Thiết lập các chân I2C cho hai cảm biến VL53L0X. </p>
<p>Hàm này khởi tạo hai bus I2C với các chân cụ thể và gán hai cảm biến VL53L0X vào từng bus. Cảm biến bên trái sẽ được gán vào I2C1 (chân SDA: 21, SCL: 22) và cảm biến phía trước sẽ được gán vào I2C2 (chân SDA: 16, SCL: 4).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sensor_left</td><td>Tham chiếu đến cảm biến khoảng cách bên trái (Adafruit_VL53L0X). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sensor_front</td><td>Tham chiếu đến cảm biến khoảng cách phía trước (Adafruit_VL53L0X).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Trả về mã lỗi nếu không tìm thấy cảm biến, trả về OK nếu thành công.<ul>
<li>NOT_FOUND_DISTANCE_SENSOR_ERROR: Không tìm thấy cảm biến VL53L0X.</li>
<li>OK: Cảm biến được khởi tạo thành công. </li>
</ul>
</dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bsp_8cpp_aaad95fbeb90643c1c856fadf533c689a_icgraph.png" border="0" usemap="#absp_8cpp_aaad95fbeb90643c1c856fadf533c689a_icgraph" alt=""/></div>
<map name="absp_8cpp_aaad95fbeb90643c1c856fadf533c689a_icgraph" id="absp_8cpp_aaad95fbeb90643c1c856fadf533c689a_icgraph">
<area shape="rect" title="Thiết lập các chân I2C cho hai cảm biến VL53L0X." alt="" coords="107,5,208,32"/>
<area shape="rect" href="main_8cpp.html#a4fc01d736fe50cf5b977f755b675f11d" title=" " alt="" coords="5,5,59,32"/>
<area shape="poly" title=" " alt="" coords="91,21,59,21,59,16,91,16"/>
</map>
</div>

</div>
</div>
<a id="afe2a977e003c131ad4a2804059fd9005" name="afe2a977e003c131ad4a2804059fd9005"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe2a977e003c131ad4a2804059fd9005">&#9670;&#160;</a></span>setup_mqtt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setup_mqtt </td>
          <td>(</td>
          <td class="paramtype">PubSubClient &amp;</td>          <td class="paramname"><span class="paramname"><em>client</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Thiết lập MQTT với server và callback được xác định trước. </p>
<p>Hàm này thiết lập máy chủ MQTT và callback xử lý các tin nhắn nhận được. Sau đó, nó sẽ cố gắng kết nối với broker MQTT.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>Đối tượng PubSubClient để kết nối và gửi/nhận dữ liệu qua MQTT.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bsp_8cpp_afe2a977e003c131ad4a2804059fd9005_cgraph.png" border="0" usemap="#absp_8cpp_afe2a977e003c131ad4a2804059fd9005_cgraph" alt=""/></div>
<map name="absp_8cpp_afe2a977e003c131ad4a2804059fd9005_cgraph" id="absp_8cpp_afe2a977e003c131ad4a2804059fd9005_cgraph">
<area shape="rect" title="Thiết lập MQTT với server và callback được xác định trước." alt="" coords="5,208,92,235"/>
<area shape="rect" href="bsp_8cpp.html#a92d580a0d95b6919b9a87264d7df3279" title="Callback được gọi khi nhận được một thông điệp từ topic MQTT." alt="" coords="169,132,238,159"/>
<area shape="poly" title=" " alt="" coords="77,205,160,163,162,168,79,210"/>
<area shape="rect" href="main_8cpp.html#a068a04f89f8c4b3979bcd88bf143f5cf" title=" " alt="" coords="316,259,368,285"/>
<area shape="poly" title=" " alt="" coords="92,221,174,228,269,244,302,254,301,259,267,249,174,234,92,226"/>
<area shape="rect" href="bsp_8cpp.html#a3b4b1553d0ac2f8cd65642dc21bf5729" title="Kết nối đến broker MQTT." alt="" coords="140,259,268,285"/>
<area shape="poly" title=" " alt="" coords="93,233,147,251,145,256,91,238"/>
<area shape="rect" href="bsp_8cpp.html#a90339bd9b73ea558ab199fd8ebe3e8b1" title="Điều khiển động cơ để di chuyển xuống với số bước encoder nhất định." alt="" coords="316,5,368,32"/>
<area shape="poly" title=" " alt="" coords="218,130,313,41,317,45,222,134"/>
<area shape="rect" href="bsp_8cpp.html#a76a15253ad56619fe851a6e314d9ee5a" title="Đặt lại giá trị của bộ đếm encoder." alt="" coords="416,107,558,133"/>
<area shape="poly" title=" " alt="" coords="227,129,267,109,315,92,345,88,376,89,432,99,431,105,375,95,346,94,317,97,269,113,229,134"/>
<area shape="rect" href="bsp_8cpp.html#a262738a076360ac36416563c9221091d" title="Điều khiển động cơ để xoay sang trái với số bước encoder nhất định." alt="" coords="322,107,362,133"/>
<area shape="poly" title=" " alt="" coords="239,136,307,124,308,129,240,142"/>
<area shape="rect" href="bsp_8cpp.html#a2991f6eaed7763cc48fa26ba1d6e8708" title="Điều khiển động cơ để xoay sang phải với số bước encoder nhất định." alt="" coords="319,157,365,184"/>
<area shape="poly" title=" " alt="" coords="240,149,304,161,303,166,239,154"/>
<area shape="rect" href="bsp_8cpp.html#ae705d5ee120f8a3ee7dc59000a739ef9" title="Điều khiển động cơ để di chuyển lên một khoảng bước encoder nhất định." alt="" coords="323,208,361,235"/>
<area shape="poly" title=" " alt="" coords="231,157,311,201,308,206,229,162"/>
<area shape="poly" title=" " alt="" coords="364,30,456,95,453,100,361,35"/>
<area shape="poly" title=" " alt="" coords="362,117,401,117,401,123,362,123"/>
<area shape="poly" title=" " alt="" coords="365,160,432,136,433,141,367,165"/>
<area shape="poly" title=" " alt="" coords="360,206,452,140,456,145,363,211"/>
<area shape="poly" title=" " alt="" coords="269,269,300,269,300,275,269,275"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bsp_8cpp_afe2a977e003c131ad4a2804059fd9005_icgraph.png" border="0" usemap="#absp_8cpp_afe2a977e003c131ad4a2804059fd9005_icgraph" alt=""/></div>
<map name="absp_8cpp_afe2a977e003c131ad4a2804059fd9005_icgraph" id="absp_8cpp_afe2a977e003c131ad4a2804059fd9005_icgraph">
<area shape="rect" title="Thiết lập MQTT với server và callback được xác định trước." alt="" coords="107,5,193,32"/>
<area shape="rect" href="main_8cpp.html#a4fc01d736fe50cf5b977f755b675f11d" title=" " alt="" coords="5,5,59,32"/>
<area shape="poly" title=" " alt="" coords="91,21,59,21,59,16,91,16"/>
</map>
</div>

</div>
</div>
<a id="a29c2aa13f2bbaccceeb33ed39a6ece11" name="a29c2aa13f2bbaccceeb33ed39a6ece11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29c2aa13f2bbaccceeb33ed39a6ece11">&#9670;&#160;</a></span>setup_OTA()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setup_OTA </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Thiết lập Over-The-Air (OTA) cập nhật cho vi điều khiển. </p>
<p>Hàm này thiết lập các callback cần thiết để xử lý quá trình cập nhật OTA, bao gồm bắt đầu, tiến trình, kết thúc và xử lý lỗi. Khi kích hoạt, vi điều khiển sẽ có khả năng nhận và cài đặt bản cập nhật chương trình hoặc hệ thống file thông qua giao thức OTA.</p>
<p>Các thông báo trạng thái và lỗi sẽ được in ra Serial nếu <code>DEBUG_MODE</code> đang bật.</p>
<dl class="section return"><dt>Returns</dt><dd>Hàm không trả về giá trị. </dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bsp_8cpp_a29c2aa13f2bbaccceeb33ed39a6ece11_icgraph.png" border="0" usemap="#absp_8cpp_a29c2aa13f2bbaccceeb33ed39a6ece11_icgraph" alt=""/></div>
<map name="absp_8cpp_a29c2aa13f2bbaccceeb33ed39a6ece11_icgraph" id="absp_8cpp_a29c2aa13f2bbaccceeb33ed39a6ece11_icgraph">
<area shape="rect" title="Thiết lập Over&#45;The&#45;Air (OTA) cập nhật cho vi điều khiển." alt="" coords="107,5,193,32"/>
<area shape="rect" href="main_8cpp.html#a4fc01d736fe50cf5b977f755b675f11d" title=" " alt="" coords="5,5,59,32"/>
<area shape="poly" title=" " alt="" coords="91,21,59,21,59,16,91,16"/>
</map>
</div>

</div>
</div>
<a id="a6ed12a183e9f32f3272e84420633eced" name="a6ed12a183e9f32f3272e84420633eced"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ed12a183e9f32f3272e84420633eced">&#9670;&#160;</a></span>setup_pwm_pin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setup_pwm_pin </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Thiết lập các chân PWM cho động cơ. </p>
<p>Hàm này cấu hình các chân GPIO để sử dụng cho điều khiển PWM của động cơ. Nó thiết lập chế độ chân, cấu hình các kênh PWM với tần số và độ phân giải được định nghĩa, và gán các chân vào các kênh PWM tương ứng. Cuối cùng, hàm sẽ đặt trạng thái chân điều khiển động cơ (ENABLE_L, ENABLE_R) thành LOW để tắt động cơ khi khởi động.</p>
<dl class="section note"><dt>Note</dt><dd>Cần khai báo trước các chân điều khiển động cơ và các kênh PWM.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bsp_8cpp_a6ed12a183e9f32f3272e84420633eced_icgraph.png" border="0" usemap="#absp_8cpp_a6ed12a183e9f32f3272e84420633eced_icgraph" alt=""/></div>
<map name="absp_8cpp_a6ed12a183e9f32f3272e84420633eced_icgraph" id="absp_8cpp_a6ed12a183e9f32f3272e84420633eced_icgraph">
<area shape="rect" title="Thiết lập các chân PWM cho động cơ." alt="" coords="107,5,219,32"/>
<area shape="rect" href="main_8cpp.html#a4fc01d736fe50cf5b977f755b675f11d" title=" " alt="" coords="5,5,59,32"/>
<area shape="poly" title=" " alt="" coords="91,21,59,21,59,16,91,16"/>
</map>
</div>

</div>
</div>
<a id="ae5b88d967e3185d98053cf055c8b4f1f" name="ae5b88d967e3185d98053cf055c8b4f1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5b88d967e3185d98053cf055c8b4f1f">&#9670;&#160;</a></span>setup_wifi()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setup_wifi </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Thiết lập kết nối WiFi cho ESP32. </p>
<p>Hàm này khởi tạo kết nối WiFi bằng cách sử dụng SSID và mật khẩu đã định nghĩa trước. Sau khi kết nối thành công, nếu chế độ DEBUG được bật, các thông tin như trạng thái kết nối và địa chỉ IP của ESP32 sẽ được hiển thị trên Serial Monitor.</p>
<dl class="section note"><dt>Note</dt><dd>Chức năng này cần phải được gọi trong hàm <a class="el" href="main_8cpp.html#a4fc01d736fe50cf5b977f755b675f11d">setup()</a> của chương trình chính.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bsp_8cpp_ae5b88d967e3185d98053cf055c8b4f1f_icgraph.png" border="0" usemap="#absp_8cpp_ae5b88d967e3185d98053cf055c8b4f1f_icgraph" alt=""/></div>
<map name="absp_8cpp_ae5b88d967e3185d98053cf055c8b4f1f_icgraph" id="absp_8cpp_ae5b88d967e3185d98053cf055c8b4f1f_icgraph">
<area shape="rect" title="Thiết lập kết nối WiFi cho ESP32." alt="" coords="107,5,187,32"/>
<area shape="rect" href="main_8cpp.html#a4fc01d736fe50cf5b977f755b675f11d" title=" " alt="" coords="5,5,59,32"/>
<area shape="poly" title=" " alt="" coords="91,21,59,21,59,16,91,16"/>
</map>
</div>

</div>
</div>
<a id="ae705d5ee120f8a3ee7dc59000a739ef9" name="ae705d5ee120f8a3ee7dc59000a739ef9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae705d5ee120f8a3ee7dc59000a739ef9">&#9670;&#160;</a></span>up()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void up </td>
          <td>(</td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>encoder_steps</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>timeout_ms</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Điều khiển động cơ để di chuyển lên một khoảng bước encoder nhất định. </p>
<p>Hàm này điều khiển động cơ trái và phải để di chuyển lên một khoảng bước được chỉ định thông qua số bước encoder (<code>encoder_steps</code>). Hàm cũng có thể dừng di chuyển nếu đạt đến giới hạn thời gian (<code>timeout_ms</code>). Khi đạt đến số bước encoder hoặc hết thời gian, động cơ sẽ tắt.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">encoder_steps</td><td>Số bước của encoder cần đạt được trước khi dừng động cơ. </td></tr>
    <tr><td class="paramname">timeout_ms</td><td>Thời gian giới hạn để hoàn thành việc di chuyển (tính bằng mili giây).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Sau khi đạt số bước encoder hoặc hết thời gian, hàm sẽ tắt động cơ và đặt lại giá trị encoder.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bsp_8cpp_ae705d5ee120f8a3ee7dc59000a739ef9_cgraph.png" border="0" usemap="#absp_8cpp_ae705d5ee120f8a3ee7dc59000a739ef9_cgraph" alt=""/></div>
<map name="absp_8cpp_ae705d5ee120f8a3ee7dc59000a739ef9_cgraph" id="absp_8cpp_ae705d5ee120f8a3ee7dc59000a739ef9_cgraph">
<area shape="rect" title="Điều khiển động cơ để di chuyển lên một khoảng bước encoder nhất định." alt="" coords="5,5,44,32"/>
<area shape="rect" href="bsp_8cpp.html#a76a15253ad56619fe851a6e314d9ee5a" title="Đặt lại giá trị của bộ đếm encoder." alt="" coords="92,5,233,32"/>
<area shape="poly" title=" " alt="" coords="44,16,76,16,76,21,44,21"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bsp_8cpp_ae705d5ee120f8a3ee7dc59000a739ef9_icgraph.png" border="0" usemap="#absp_8cpp_ae705d5ee120f8a3ee7dc59000a739ef9_icgraph" alt=""/></div>
<map name="absp_8cpp_ae705d5ee120f8a3ee7dc59000a739ef9_icgraph" id="absp_8cpp_ae705d5ee120f8a3ee7dc59000a739ef9_icgraph">
<area shape="rect" title="Điều khiển động cơ để di chuyển lên một khoảng bước encoder nhất định." alt="" coords="358,5,397,32"/>
<area shape="rect" href="bsp_8cpp.html#a92d580a0d95b6919b9a87264d7df3279" title="Callback được gọi khi nhận được một thông điệp từ topic MQTT." alt="" coords="241,5,310,32"/>
<area shape="poly" title=" " alt="" coords="343,21,311,21,311,16,343,16"/>
<area shape="rect" href="bsp_8cpp.html#afe2a977e003c131ad4a2804059fd9005" title="Thiết lập MQTT với server và callback được xác định trước." alt="" coords="107,5,193,32"/>
<area shape="poly" title=" " alt="" coords="226,21,194,21,194,16,226,16"/>
<area shape="rect" href="main_8cpp.html#a4fc01d736fe50cf5b977f755b675f11d" title=" " alt="" coords="5,5,59,32"/>
<area shape="poly" title=" " alt="" coords="91,21,59,21,59,16,91,16"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
